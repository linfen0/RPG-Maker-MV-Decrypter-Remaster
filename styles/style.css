:root {
	/* M3 Color Scheme (Light - Default) */
	--md-sys-color-primary: #6750A4;
	--md-sys-color-on-primary: #FFFFFF;
	--md-sys-color-primary-container: #EADDFF;
	--md-sys-color-on-primary-container: #21005D;
	--md-sys-color-secondary: #625B71;
	--md-sys-color-on-secondary: #FFFFFF;
	--md-sys-color-secondary-container: #E8DEF8;
	--md-sys-color-on-secondary-container: #1D192B;
	--md-sys-color-tertiary: #7D5260;
	--md-sys-color-on-tertiary: #FFFFFF;
	--md-sys-color-tertiary-container: #FFD8E4;
	--md-sys-color-on-tertiary-container: #31111D;
	--md-sys-color-error: #B3261E;
	--md-sys-color-on-error: #FFFFFF;
	--md-sys-color-error-container: #F9DEDC;
	--md-sys-color-on-error-container: #410E0B;
	--md-sys-color-background: #FFFBFE;
	--md-sys-color-on-background: #1C1B1F;
	--md-sys-color-surface: #FFFBFE;
	--md-sys-color-on-surface: #1C1B1F;
	--md-sys-color-surface-variant: #E7E0EC;
	--md-sys-color-on-surface-variant: #49454F;
	--md-sys-color-outline: #79747E;
}

body.dark-theme {
	/* M3 Color Scheme (Dark) */
	--md-sys-color-primary: #D0BCFF;
	--md-sys-color-on-primary: #381E72;
	--md-sys-color-primary-container: #4F378B;
	--md-sys-color-on-primary-container: #EADDFF;
	--md-sys-color-secondary: #CCC2DC;
	--md-sys-color-on-secondary: #332D41;
	--md-sys-color-secondary-container: #4A4458;
	--md-sys-color-on-secondary-container: #E8DEF8;
	--md-sys-color-background: #1C1B1F;
	--md-sys-color-on-background: #E6E1E5;
	--md-sys-color-surface: #1C1B1F;
	--md-sys-color-on-surface: #E6E1E5;
	--md-sys-color-surface-variant: #49454F;
	--md-sys-color-on-surface-variant: #CAC4D0;
}

body {
	margin: 0;
	padding: 0;
	font-family: 'Roboto', sans-serif;
	background-color: var(--md-sys-color-background);
	color: var(--md-sys-color-on-background);
	transition: background-color 0.3s, color 0.3s;
}

.app-container {
	display: flex;
	flex-direction: column;
	height: 100vh;
}

/* Top App Bar */
.top-app-bar {
	display: flex;
	align-items: center;
	padding: 0 16px;
	height: 64px;
	background-color: var(--md-sys-color-surface);
	color: var(--md-sys-color-on-surface);
}

.headline-small {
	font-size: 24px;
	line-height: 32px;
	margin-left: 12px;
}

.spacer {
	flex: 1;
}

/* Main Content */
.main-content {
	flex: 1;
	padding: 24px;
	overflow-y: auto;
	max-width: 1200px;
	margin: 0 auto;
	width: 100%;
	box-sizing: border-box;
}

/* Mode Switcher */
.mode-switcher-container {
	margin-bottom: 24px;
}

/* Action Area */
.action-area {
	display: grid;
	grid-template-columns: 1fr 300px;
	gap: 24px;
	margin-bottom: 24px;
}

@media (max-width: 800px) {
	.action-area {
		grid-template-columns: 1fr;
	}
}

/* Drop Zone */
.drop-zone {
	border: 2px dashed var(--md-sys-color-outline);
	border-radius: 16px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 48px;
	background-color: var(--md-sys-color-surface-variant);
	color: var(--md-sys-color-on-surface-variant);
	transition: background-color 0.2s;
}

.drop-zone.drag-over {
	background-color: var(--md-sys-color-secondary-container);
	border-color: var(--md-sys-color-primary);
}

.drop-icon {
	font-size: 64px;
	margin-bottom: 16px;
	color: var(--md-sys-color-primary);
}

.title-large {
	font-size: 22px;
	margin-bottom: 8px;
}

.body-medium {
	margin-bottom: 24px;
	opacity: 0.7;
}

.secondary-actions {
	margin-top: 16px;
}

/* Settings Card */
.settings-card {
	background-color: var(--md-sys-color-surface);
	border-radius: 12px;
	padding: 16px;
	border: 1px solid var(--md-sys-color-outline);
	display: flex;
	flex-direction: column;
}

.settings-header {
	display: flex;
	align-items: center;
	gap: 12px;
	margin-bottom: 16px;
	color: var(--md-sys-color-primary);
}

.settings-content {
	display: flex;
	flex-direction: column;
	gap: 16px;
}

.full-width {
	width: 100%;
}

.hidden {
	display: none !important;
}

.radio-group,
.output-options {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.radio-label,
.checkbox-label {
	display: flex;
	align-items: center;
	gap: 8px;
	cursor: pointer;
}

/* Process Area */
.process-area {
	margin-bottom: 24px;
}

.info-row {
	display: flex;
	justify-content: space-between;
	margin-bottom: 8px;
}

.fab-container {
	position: fixed;
	bottom: 32px;
	right: 32px;
	z-index: 10;
}

/* Results Area */
.log-details {
	margin-bottom: 24px;
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	padding: 8px;
}

.log-details summary {
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: space-between;
	list-style: none;
}

.log-content {
	margin-top: 8px;
	max-height: 200px;
	overflow-y: auto;
	background-color: var(--md-sys-color-surface-variant);
	padding: 8px;
	border-radius: 4px;
}

.log-content pre {
	margin: 0;
	white-space: pre-wrap;
	font-family: monospace;
	font-size: 12px;
}

.preview-grid {
	display: flex;
	flex-direction: column;
	gap: 24px;
}

.directory-group {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.directory-header {
	font-size: 18px;
	font-weight: 500;
	color: var(--md-sys-color-primary);
	border-bottom: 1px solid var(--md-sys-color-outline);
	padding-bottom: 4px;
}

.directory-items {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
	gap: 16px;
}

.preview-card {
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	cursor: pointer;
	transition: transform 0.2s;
}

.preview-card:hover {
	transform: scale(1.02);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.preview-image {
	width: 100%;
	height: 150px;
	object-fit: cover;
	background-color: #eee;
}

.preview-info {
	padding: 8px;
	font-size: 12px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* Lightbox */
.lightbox {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.8);
	z-index: 1000;
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 1;
	transition: opacity 0.3s;
}

.lightbox.hidden {
	opacity: 0;
	pointer-events: none;
}

.lightbox-content {
	position: relative;
	max-width: 90%;
	max-height: 90%;
}

.lightbox-content img {
	max-width: 100%;
	font-size: 22px;
	margin-bottom: 8px;
}

.body-medium {
	margin-bottom: 24px;
	opacity: 0.7;
}

.secondary-actions {
	margin-top: 16px;
}

/* Settings Card */
.settings-card {
	background-color: var(--md-sys-color-surface);
	border-radius: 12px;
	padding: 16px;
	border: 1px solid var(--md-sys-color-outline);
	display: flex;
	flex-direction: column;
}

.settings-header {
	display: flex;
	align-items: center;
	gap: 12px;
	margin-bottom: 16px;
	color: var(--md-sys-color-primary);
}

.settings-content {
	display: flex;
	flex-direction: column;
	gap: 16px;
}

.full-width {
	width: 100%;
}

.hidden {
	display: none !important;
}

.radio-group,
.output-options {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.radio-label,
.checkbox-label {
	display: flex;
	align-items: center;
	gap: 8px;
	cursor: pointer;
}

/* Process Area */
.process-area {
	margin-bottom: 24px;
}

.info-row {
	display: flex;
	justify-content: space-between;
	margin-bottom: 8px;
}

.fab-container {
	position: fixed;
	bottom: 32px;
	right: 32px;
	z-index: 10;
}

/* Results Area */
.log-details {
	margin-bottom: 24px;
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	padding: 8px;
}

.log-details summary {
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: space-between;
	list-style: none;
}

.log-content {
	margin-top: 8px;
	max-height: 200px;
	overflow-y: auto;
	background-color: var(--md-sys-color-surface-variant);
	padding: 8px;
	border-radius: 4px;
}

.log-content pre {
	margin: 0;
	white-space: pre-wrap;
	font-family: monospace;
	font-size: 12px;
}

.preview-grid {
	display: flex;
	flex-direction: column;
	gap: 24px;
}

.directory-group {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.directory-header {
	font-size: 18px;
	font-weight: 500;
	color: var(--md-sys-color-primary);
	border-bottom: 1px solid var(--md-sys-color-outline);
	padding-bottom: 4px;
}

.directory-items {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
	gap: 16px;
}

.preview-card {
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	cursor: pointer;
	transition: transform 0.2s;
}

.preview-card:hover {
	transform: scale(1.02);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.preview-image {
	width: 100%;
	height: 150px;
	object-fit: cover;
	background-color: #eee;
}

.preview-info {
	padding: 8px;
	font-size: 12px;
	--md-icon-button-state-layer-width: 32px;
	margin-left: 8px;
	color: var(--md-sys-color-secondary);
	opacity: 0.7;
}


.body-medium {
	margin-bottom: 24px;
	opacity: 0.7;
}

.secondary-actions {
	margin-top: 16px;
}

/* Settings Card */
.settings-card {
	background-color: var(--md-sys-color-surface);
	border-radius: 12px;
	padding: 16px;
	border: 1px solid var(--md-sys-color-outline);
	display: flex;
	flex-direction: column;
}

.settings-header {
	display: flex;
	align-items: center;
	gap: 12px;
	margin-bottom: 16px;
	color: var(--md-sys-color-primary);
}

.settings-content {
	display: flex;
	flex-direction: column;
	gap: 16px;
}

.full-width {
	width: 100%;
}

.hidden {
	display: none !important;
}

.radio-group,
.output-options {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.radio-label,
.checkbox-label {
	display: flex;
	align-items: center;
	gap: 8px;
	cursor: pointer;
}

/* Process Area */
.process-area {
	margin-bottom: 24px;
}

.info-row {
	display: flex;
	justify-content: space-between;
	margin-bottom: 8px;
}

.fab-container {
	position: fixed;
	bottom: 32px;
	right: 32px;
	z-index: 10;
}

/* Results Area */
.log-details {
	margin-bottom: 24px;
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	padding: 8px;
}

.log-details summary {
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: space-between;
	list-style: none;
}

.log-content {
	margin-top: 8px;
	max-height: 200px;
	overflow-y: auto;
	background-color: var(--md-sys-color-surface-variant);
	padding: 8px;
	border-radius: 4px;
}

.log-content pre {
	margin: 0;
	white-space: pre-wrap;
	font-family: monospace;
	font-size: 12px;
}

.preview-grid {
	display: flex;
	flex-direction: column;
	gap: 24px;
}

.directory-group {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.directory-header {
	font-size: 18px;
	font-weight: 500;
	color: var(--md-sys-color-primary);
	border-bottom: 1px solid var(--md-sys-color-outline);
	padding-bottom: 4px;
}

.directory-items {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
	gap: 16px;
}

.preview-card {
	border: 1px solid var(--md-sys-color-outline);
	border-radius: 8px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	cursor: pointer;
	transition: transform 0.2s;
}

.preview-card:hover {
	transform: scale(1.02);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.preview-image {
	width: 100%;
	height: 150px;
	object-fit: cover;
	background-color: #eee;
}

.preview-info {
	padding: 8px;
	font-size: 12px;
	--md-icon-button-state-layer-width: 32px;
	margin-left: 8px;
	color: var(--md-sys-color-secondary);
	opacity: 0.7;
}

.help-btn:hover {
	opacity: 1;
}

.group-header {
	display: flex;
	align-items: center;
}

.setting-row {
	display: flex;
	align-items: center;
}

/* Help Dialog */
#helpDialog {
	--md-dialog-container-color: var(--md-sys-color-surface);
}

#helpContent {
	font-family: 'Roboto', sans-serif;
	line-height: 1.5;
	color: var(--md-sys-color-on-surface-variant);
}

/* Navigation Drawer */
.nav-drawer {
	position: fixed;
	top: 0;
	left: 0;
	bottom: 0;
	width: 300px;
	background-color: var(--md-sys-color-surface);
	z-index: 100;
	transform: translateX(-100%);
	transition: transform 0.3s ease;
	display: flex;
	flex-direction: column;
	border-right: 1px solid var(--md-sys-color-outline-variant);
	box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
}

.nav-drawer.open {
	transform: translateX(0);
}

.drawer-header {
	height: 64px;
	display: flex;
	align-items: center;
	padding: 0 16px;
	justify-content: space-between;
	border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

.drawer-content {
	padding: 12px;
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.nav-item {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 12px 16px;
	border-radius: 28px;
	cursor: pointer;
	color: var(--md-sys-color-on-surface-variant);
	transition: background-color 0.2s;
}

.nav-item:hover {
	background-color: var(--md-sys-color-surface-container-high);
}

.nav-item.active {
	background-color: var(--md-sys-color-secondary-container);
	color: var(--md-sys-color-on-secondary-container);
}

.drawer-overlay {
	position: fixed;
	inset: 0;
	background-color: rgba(0, 0, 0, 0.5);
	z-index: 90;
	transition: opacity 0.3s;
	opacity: 0;
	pointer-events: none;
}

.drawer-overlay:not(.hidden) {
	opacity: 1;
	pointer-events: auto;
}